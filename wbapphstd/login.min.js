  // Initialize Firebase
  var config = {
    apiKey: "AIzaSyCcrYfOrTxfnZzgTq17RNiTE95wMjMn8hY",
    authDomain: "pwa-intru.firebaseapp.com",
    databaseURL: "https://pwa-intru.firebaseio.com",
    projectId: "pwa-intru",
    storageBucket: "pwa-intru.appspot.com",
    messagingSenderId: "696864317345"
  };
firebase.initializeApp(config);
const db = firebase.firestore();
 db.settings({
 timestampsInSnapshots: true
 });

// Here starts my code
function onSbmt(){
var inpteml = $('.inpt-usrnm').val();


if( $.trim($(".inpt-usrnm").val()) == '' ){
	alert('Please Fillout Complete Email Address to Check');
}
	else{
		db.collection("Accounts").where("username", "==", inpteml)
		    .get()
		    .then(function(querySnapshot) {
		        querySnapshot.forEach(function(doc) {
		            // doc.data() is never undefined for query doc snapshots
			
			$(".pswrd-spn").show();
			$(".btn-sgnin").attr("value","Login");
			$(".btn-sgnin").addClass("btn-sgnin-nxt");
			$(".btn-sgnin").removeClass("btn-sgnin");
			$(".btn-sgnin-nxt").click(function(){
				var docData = doc.data();
				var pswrd = docData.password;
				var inptpswrd = $('.inpt-pswrd').val();
				if( $.trim($(".inpt-usrnm").val()) == '' && $.trim($(".inpt-pswrd").val()) == ''   ){
					alert('Please Fillout Your Correct Password');
				}		
				else{
					if(pswrd === inptpswrd){
					window.location.href="dshbrd.html";
					document.cookie="lgn_auth_page=yes;expires=Wed, 18 Dec 2023 12:00:00 GMT;path=/"
					}
					else{
					 console.log('Incorrect Password');
					$('.pswrdmsg').text('Incorrect Password');
					};
				};
			})
		        });	
		    })
		    .catch(function() {
		       alert('Unfortunately some error ocurred');
		    });
	};
};

function onRgstr(){


	if( $.trim($(".inpt-nm").val()) == '' && $.trim($(".inpt-nw-pswrd").val()) == ''  && $.trim($(".inpt-eml").val()) == '' && $.trim($(".inpt-cnf-nw-pswrd").val()) == '' ){
		alert('Please fill all the details')
			
	}
	else{
		if($.trim($(".inpt-nw-pswrd").val()) == $.trim($(".inpt-cnf-nw-pswrd").val()) ){
		
		db.collection("Accounts").where("username", "==", $.trim($(".inpt-eml").val()))
		    .get()
		    .then(function(querySnapshot) {
		        querySnapshot.forEach(function(doc) {
			alert('Already Registered');
			window.location.href='index.html';
			})
		    })
		$(".sgnup-div").fadeOut(0.7, function(){
		$(".sgnup-scfl-div").fadeIn();
		});
		var inptnm= $.trim($(".inpt-nm").val());
		var inptnwpswrd=$.trim($(".inpt-nw-pswrd").val());
		var inpteml=$.trim($(".inpt-eml").val());
		$('.btn-frwrd').click(function(){
			db.collection('Accounts').add({
			name: inptnm,
			password: inptnwpswrd,
			username: inpteml,
			email: inpteml
			})
			.then(function(docRef){
			console.log("Document Successfully Written")
//			alert(docRef.id);
			})
			.catch(function(error){
			console.error("Unable to Write Data");
			})
			window.location.href="index.html";
		})	
		
		}
		else{
			alert('Passwords dont match');
			}
	}
}