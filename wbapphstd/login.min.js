  // Initialize Firebase
  var config = {
    apiKey: "AIzaSyCcrYfOrTxfnZzgTq17RNiTE95wMjMn8hY",
    authDomain: "pwa-intru.firebaseapp.com",
    databaseURL: "https://pwa-intru.firebaseio.com",
    projectId: "pwa-intru",
    storageBucket: "pwa-intru.appspot.com",
    messagingSenderId: "696864317345"
  };
firebase.initializeApp(config);
const db = firebase.firestore();
 db.settings({
 timestampsInSnapshots: true
 });

// Authentication Code
		function checkCookie() {
		firebase.auth().onAuthStateChanged(function(user) {
  		if (user) {
		    // User is signed in.
			window.location.href="dshbrd.html";
		  } else {	
		    // No user is signed in.
		  }
		});
		};

//Login and Register Code

function onLogin(){
	$(".loader").show();
	$(".lgn-div").css("opacity","0.6");
	$(".loader").css("opacity","1");
	var inpteml=$('.inpt-usrnm').val();
	var inptpswrd=$('.inpt-pswrd').val();


	firebase.auth().signInWithEmailAndPassword(inpteml,inptpswrd)
		.then(function(user) {
		window.location.href="index.html";
		})
		.catch(function(err) {
			$(".loader").hide();
	$(".lgn-div").css("opacity","1");
			console.log(err);
			alert(err);
		})
}
var pswrdfld= $(".inpt-pswrd");
pswrdfld.onkeydown = function(e){
	if(e.which == 13){
		alert('You pressed Enter');
	}
}

function onRgstr(){
//	event.preventDefault();

	if( $.trim($(".inpt-nm").val()) == '' && $.trim($(".inpt-nw-pswrd").val()) == ''  && $.trim($(".inpt-eml").val()) == '' && $.trim($(".inpt-cnf-nw-pswrd").val()) == '' ){
		alert('Please fill all the details');		
	}
	else{
		if($.trim($(".inpt-nw-pswrd").val()) == $.trim($(".inpt-cnf-nw-pswrd").val()) ){	
			$(".sgnup-div").fadeOut(0.7, function(){
				$(".sgnup-scfl-div").fadeIn();
			})
		var inptnm= $.trim($(".inpt-nm").val());
		var inptnwpswrd=$.trim($(".inpt-nw-pswrd").val());
		var rgstreml=$.trim($(".inpt-eml").val());
		$('.btn-frwrd').click(function(){

//			event.preventDefault();
			
	$(".loadera").show();
	$(".sgnup-scfl-div").css("opacity","0.6");
	$(".loadera").css("opacity","1");

			firebase.auth().createUserWithEmailAndPassword(rgstreml,inptnwpswrd)
				.then(function(user) {

/*					db.collection("Accounts")
					.doc(uidofUser)
					.set({
						name:inptnm;
					})
					.then(function() {
						console.info('Success');
					})
					.catch (function (error) {
						alert(error)
					});
					db.collection("Accounts")
					.doc(uidofUser)
					.collection('intru-money')
					.doc()
					.set({
					    name: "Opening Balance",
					    cost:"0",
				    	    date:new.Date();
					})
					.then(function() {
					alert("Successfully Written Data!");
					})
					.catch (function (error) {
						alert(error)
					});
*/
					window.location.href="index.html";
				})
				.catch(function(error) {
					alert(error);
			$(".loadera").hide();
	$(".sgnup-scfl-div").css("opacity","1");
					window.location.href="login.html"
				})
				
		});
		
		}
		else{
			alert('Passwords dont match');
			}
	}
};	


//jQuery Code for Document Load
$(document).ready(function (){
	$(".lgn-div").hide();
	$(".ldng").show().delay(1500).fadeOut(500);

	$(".sgnup-div").hide();
	$(".sgnup-scfl-div").hide();
	$(".lgn-div").delay(500).hide().delay(2000).fadeIn( function(){
		$("body").css("background-color","rgb(255,51,102)");
	});
	$(".crtacnt").click(function(){
		$(".frm").css("margin-top","40px");
		$(".lgn-div").fadeOut(0.7, function(){
			$(".sgnup-div").fadeIn();
		});
	});
});
